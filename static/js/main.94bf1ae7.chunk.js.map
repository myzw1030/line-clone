{"version":3,"sources":["firebase.js","components/SignIn.jsx","components/SignOut.jsx","components/SendMessage.jsx","components/Line.jsx","App.jsx","index.js"],"names":["db","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","SignIn","Button","onClick","provider","GoogleAuthProvider","signInWithPopup","SignOut","className","style","color","fontSize","signOut","currentUser","displayName","SendMessage","useState","message","setMessages","onSubmit","e","preventDefault","uid","photoURL","collection","add","text","createdAt","FieldValue","serverTimestamp","Input","width","fontWeight","marginLeft","marginBottom","placeholder","type","onChange","target","value","Line","messages","useEffect","orderBy","limit","onSnapshot","snapshot","docs","map","doc","data","id","src","alt","App","useAuthState","user","ReactDom","render","document","getElementById"],"mappings":"wMAcMA,G,YAVcC,IAASC,cAAc,CACzCC,OAAQC,0CACRC,WAAYD,mCACZE,UAAWF,mBACXG,cAAeH,+BACfI,kBAAmBJ,eACnBK,MAAOL,8CAIcM,aAEjBC,EAAOV,IAASU,O,QCXTC,EAAS,WAOpB,OACE,8BACE,cAACC,EAAA,EAAD,CAAQC,QARa,WAEvB,IAAMC,EAAW,IAAId,IAASU,KAAKK,mBACnCL,EAAKM,gBAAgBF,EACtB,EAIG,+DAKL,E,yBCdYG,EAAU,WACrB,OACE,mCACE,sBAAKC,UAAU,SAAf,UACE,cAACN,EAAA,EAAD,CAAQO,MAAO,CAAEC,MAAO,QAASC,SAAU,QAAUR,QAAS,kBAAMH,EAAKY,SAAX,EAA9D,kDAGA,6BAAKZ,EAAKa,YAAYC,cACtB,cAAC,IAAD,QAIP,E,0BCXYC,EAAc,WACzB,MAA+BC,mBAAS,IAAxC,mBAAOC,EAAP,KAAgBC,EAAhB,KAeA,OACE,mCACE,sBAAMC,SAhBV,SAAqBC,GACnBA,EAAEC,iBAEF,MAA0BrB,EAAKa,YAAvBS,EAAR,EAAQA,IAAKC,EAAb,EAAaA,SAEblC,EAAGmC,WAAW,YAAYC,IAAI,CAC5BC,KAAMT,EACNM,WACAD,MACAK,UAAWrC,IAASS,UAAU6B,WAAWC,oBAE3CX,EAAY,GACb,EAIG,SACE,sBAAKV,UAAU,UAAf,UACE,cAACsB,EAAA,EAAD,CAAOrB,MAAO,CACZsB,MAAO,MACPpB,SAAU,OACVqB,WAAY,MACZC,WAAY,MACZC,aAAc,QACbC,YAAY,uFAAiBC,KAAK,OAAOC,SAAU,SAACjB,GAAD,OAAOF,EAAYE,EAAEkB,OAAOC,MAA5B,EAAoCA,MAAOtB,IACjG,cAAC,IAAD,UAKT,ECjCYuB,EAAO,WAElB,MAAgCxB,mBAAS,IAAzC,mBAAOyB,EAAP,KAAiBvB,EAAjB,KAeA,OAbAwB,qBAAU,WAERrD,EAAGmC,WAAW,YAEXmB,QAAQ,aAERC,MAAM,IAENC,YAAW,SAACC,GACX5B,EAAY4B,EAASC,KAAKC,KAAI,SAACC,GAAD,OAASA,EAAIC,MAAb,IAC/B,GACJ,GAAE,IAGD,qCACE,cAAC,EAAD,IACA,qBAAK1C,UAAU,OAAf,SACGiC,EAASO,KAAI,gBAAGG,EAAH,EAAGA,GAAIzB,EAAP,EAAOA,KAAMH,EAAb,EAAaA,SAAUD,EAAvB,EAAuBA,IAAvB,OACZ,8BACE,sBAAcd,UAAS,cAASc,IAAQtB,EAAKa,YAAYS,IAAM,OAAS,YAAxE,UACE,qBAAK8B,IAAK7B,EAAU8B,IAAI,KACxB,4BAAI3B,MAFIyB,IAFA,MAShB,cAAC,EAAD,MAGL,EC/BYG,EAAM,WAEjB,MAAeC,YAAavD,GAArBwD,EAAP,oBAGA,OACE,mCACGA,EAAO,cAAC,EAAD,IAAW,cAAC,EAAD,KAGxB,ECZDC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,Q","file":"static/js/main.94bf1ae7.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n})\n\n// データベース\nconst db = firebaseApp.firestore();\n// 認証情報\nconst auth = firebase.auth();\n\nexport { db, auth };\n","import { Button } from '@mui/material'\nimport React from 'react'\nimport firebase from \"firebase/compat/app\";\nimport { auth } from \"../firebase.js\";\n\nexport const SignIn = () => {\n  const signInWithGoogle = () => {\n    // Google認証プロバイダー\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  };\n\n  return (\n    <div>\n      <Button onClick={signInWithGoogle}>\n        Googleでログインする\n      </Button>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Button } from '@mui/material';\nimport { auth } from \"../firebase.js\";\nimport CallIcon from '@mui/icons-material/Call';\n\nexport const SignOut = () => {\n  return (\n    <>\n      <div className='header'>\n        <Button style={{ color: \"white\", fontSize: \"15px\" }} onClick={() => auth.signOut()}>\n          サインアウト\n        </Button>\n        <h3>{auth.currentUser.displayName}</h3>\n        <CallIcon />\n      </div>\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport { db, auth } from \"../firebase.js\";\nimport firebase from \"firebase/compat/app\";\nimport { Input } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\n\nexport const SendMessage = () => {\n  const [message, setMessages] = useState(\"\");\n  function sendMessage(e) {\n    e.preventDefault();\n\n    const { uid, photoURL } = auth.currentUser;\n\n    db.collection(\"messages\").add({\n      text: message,\n      photoURL,\n      uid,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setMessages(\"\");\n  }\n\n  return (\n    <>\n      <form onSubmit={sendMessage}>\n        <div className='sendMsg'>\n          <Input style={{\n            width: \"78%\",\n            fontSize: \"15px\",\n            fontWeight: \"550\",\n            marginLeft: \"5px\",\n            marginBottom: \"-3px\",\n          }} placeholder='メッセージを入力してください' type=\"text\" onChange={(e) => setMessages(e.target.value)} value={message} />\n          <SendIcon />\n        </div>\n      </form>\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { SignOut } from './SignOut';\nimport { SendMessage } from \"./SendMessage\";\nimport { db, auth } from \"../firebase.js\";\n\nexport const Line = () => {\n  // firebaseで作成したmessageの変数を格納する\n  const [messages, setMessages] = useState([]);\n  // 第二引数に[]を入れると初回のレンダリング時にした時1回のみ\n  useEffect(() => {\n    // データベースにアクセスしてメッセージを受け取る\n    db.collection(\"messages\")\n      // 最新の作成順に並び替える\n      .orderBy(\"createdAt\")\n      // 最大限に表示したい数\n      .limit(50)\n      // いろんなデータを取得\n      .onSnapshot((snapshot) => {\n        setMessages(snapshot.docs.map((doc) => doc.data()));\n      });\n  }, []);\n\n  return (\n    <>\n      <SignOut />\n      <div className='msgs'>\n        {messages.map(({ id, text, photoURL, uid, }) => (\n          <div>\n            <div key={id} className={`msg ${uid === auth.currentUser.uid ? \"sent\" : \"received\"}`}>\n              <img src={photoURL} alt=\"\" />\n              <p>{text}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n      <SendMessage />\n    </>\n  )\n}\n","import React from \"react\";\nimport './App.css';\nimport { SignIn } from \"./components/SignIn\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { auth } from \"./firebase.js\";\nimport { Line } from \"./components/Line\";\n\nexport const App = () => {\n  // ユーザー情報を変数に入れる\n  const [user] = useAuthState(auth);\n\n  // ユーザーがいるかどうか\n  return (\n    <>\n      {user ? <Line /> : <SignIn />}\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\n\nimport { App } from \"./App\";\n\nReactDom.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}